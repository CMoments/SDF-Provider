#
# OpenSSL example configuration file.
# See doc/man5/config.pod for more info.
#
# This is mostly being used for generation of certificate requests,
# but may be used for auto loading of providers

# Note that you can include other files from the main configuration
# file using the .include directive.
#.include filename

# This definition stops the following lines choking if HOME isn't
# defined.
HOME			= .

# Use this in order to automatically load providers.
openssl_conf = openssl_init

# Comment out the next line to ignore configuration errors
config_diagnostics = 1

# Extra OBJECT IDENTIFIER info:
# oid_file       = $ENV::HOME/.oid
oid_section = new_oids

# To use this configuration file with the "-extfile" option of the
# "openssl x509" utility, name here the section containing the
# X.509v3 extensions to use:
# extensions		=
# (Alternatively, use a configuration file that has only
# X.509v3 extensions in its main [= default] section.)

[ new_oids ]
# We can add new OIDs in here for use by 'ca', 'req' and 'ts'.
# Add a simple OID like this:
# testoid1=1.2.3.4
# Or use config file substitution like this:
# testoid2=${testoid1}.5.6

# Policies used by the TSA examples.
tsa_policy1 = 1.2.3.4.1
tsa_policy2 = 1.2.3.4.5.6
tsa_policy3 = 1.2.3.4.5.7

# For FIPS
# Optionally include a file that is generated by the OpenSSL fipsinstall
# application. This file contains configuration data required by the OpenSSL
# fips provider. It contains a named section e.g. [fips_sect] which is
# referenced from the [provider_sect] below.
# Refer to the OpenSSL security policy for more information.
# .include fipsmodule.cnf


# [openssl_init]
# providers = providers
# [providers]
# helloworld = helloworld_provider

# [helloworld_provider]
# identity = helloworld
# activate = 1

# something = "This is something"
# somesect = "aaa"

# [helloworld_subsect]
# somemore = "This is some more"


[openssl_init]
providers = provider_sect
# random = random_sect
# List of providers to load
[provider_sect]
default = default_sect
# pkcs11 = pkcs11_sect
helloworld = sdf_sect
[default_sect]
activate = 1
[pkcs11_sect]
module = /home/ddd/Provider-Workshop/pkcs11-provider/builddir/src/pkcs11.so
pkcs11-module-path = /usr/lib/softhsm/libsofthsm2.so
pkcs11-module-token-pin = 1234
pkcs11-module-load-behavior = early  # 关闭 early loading
pkcs11-module-quirks = no-deinit
activate = 1
[sdf_sect]
activate = 1
module = /home/ddd/Provider-Workshop/Provider-Skeleton/helloworld.so
####################################################################
[random_sect]
# Tell OpenSSL to use the algorithm named here for RAND
# random = SIMPLE-RAND
# random = PKCS11-RAND 


